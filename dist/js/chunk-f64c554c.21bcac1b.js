(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f64c554c"],{"09fc":function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"slide"},[t._t("default")],2)},n=[],a={name:"slide"},o=a,r=(e("4dd1"),e("2877")),c=Object(r["a"])(o,i,n,!1,null,"5d6cb3df",null);s["a"]=c.exports},"0ac4":function(t,s,e){"use strict";var i=e("af35"),n=e.n(i);n.a},"0d23":function(t,s,e){},"1ce3":function(t,s,e){},"1df5":function(t,s,e){"use strict";var i=e("d3f9"),n=e.n(i);n.a},2172:function(t,s,e){},"2bbe":function(t,s,e){"use strict";var i=e("9c7e"),n=e.n(i);n.a},"31f8":function(t,s,e){},"3b49":function(t,s,e){},"4af7":function(t,s,e){},"4dd1":function(t,s,e){"use strict";var i=e("3b49"),n=e.n(i);n.a},"4e6f":function(t,s,e){"use strict";var i=e("57a8"),n=e.n(i);n.a},"57a8":function(t,s,e){},6507:function(t,s,e){"use strict";var i=e("0d23"),n=e.n(i);n.a},6738:function(t,s,e){"use strict";var i=e("e8c2"),n=e.n(i);n.a},"6ab7":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"detail"}},[e("detail-navber",{ref:"detailnavber",on:{itemClick:t.itemClick}}),e("Scroll",{ref:"scroll",staticClass:"content",attrs:{"probe-type":3},on:{scroll:t.contentScroll},scopedSlots:t._u([{key:"scroll",fn:function(){return[e("detail-swiper",{attrs:{"top-images":t.topImages}}),e("detail-base-info",{attrs:{goods:t.GoodsItem}}),e("detail-shop-info",{attrs:{shop:t.Shop}}),e("detail-goods-info",{attrs:{goodInfo:t.GoodInfo},on:{detailImageLoad:t.detailImageLoad}}),e("detail-param-info",{ref:"param",attrs:{paramss:t.paramss}}),e("detail-commentlnfo",{ref:"comment",attrs:{rate:t.rate}}),e("goods",{ref:"recommend",attrs:{goods:t.recommends}})]},proxy:!0}])}),e("detail-bottom-bar",{on:{addToCart:t.addToCart}}),e("tost",{attrs:{message:t.message,show:t.show}})],1)},n=[];e("7f7f");function a(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}var o=e("1bab");function r(t){return Object(o["a"])({url:"/detail",params:{iid:t}})}var c=function t(s,e,i){a(this,t),this.title=s.title,this.price=s.lowNowPrice,this.oldPrice=s.oldPrice,this.discountDesc=s.discountDesc,this.columns=e,this.services=i},l=function t(s){a(this,t),this.name=s.name,this.score=s.score,this.shopLogo=s.shopLogo,this.cGoods=s.cGoods,this.cSells=s.cSells},d=function t(s,e){a(this,t),this.desc=s.desc,this.detailImage=s.detailImage,this.sku=e.skus},u=function t(s){a(this,t),this.set=s.info.set,this.tables=s.rule.tables};function f(){return Object(o["a"])({url:"/recommend"})}var m=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{attrs:{id:"detail-nav"}},[i("narbar",{scopedSlots:t._u([{key:"left",fn:function(){return[i("div",{staticClass:"back",on:{click:t.backClick}},[i("img",{attrs:{src:e("7a74"),alt:""}})])]},proxy:!0},{key:"center",fn:function(){return[i("div",{attrs:{id:"tab-ter"}},t._l(t.titles,function(s,e){return i("span",{key:e,staticClass:"tab-item",class:{active:e===t.currenIndex},on:{click:function(s){return t.itemClick(e)}}},[t._v("\n\t\t\t\t\t"+t._s(s)+"\n\t\t\t\t")])}),0)]},proxy:!0}])})],1)},h=[],p=e("fdd5"),v={name:"DetailNavber",data:function(){return{titles:["商品","参数","评价","推荐"],currenIndex:0}},components:{Narbar:p["a"]},methods:{itemClick:function(t){this.currenIndex=t,this.$emit("itemClick",t)},backClick:function(){this.$router.back()}}},_=v,g=(e("b9b7"),e("2877")),b=Object(g["a"])(_,m,h,!1,null,"4beb0efe",null),C=b.exports,I=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("swiper",{staticClass:"detail-sweiper",scopedSlots:t._u([{key:"swiper",fn:function(){return t._l(t.topImages,function(t,s){return e("swiper-item",{key:s,staticClass:"swiper-item"},[e("img",{attrs:{src:t,alt:""}})])})},proxy:!0}])})],1)},w=[],y=e("ace8"),x=e("09fc"),k={name:"DetailSwiper",props:{topImages:{type:Array,default:function(){return[]}}},components:{SwiperItem:x["a"],Swiper:y["a"]}},T=k,$=(e("2bbe"),Object(g["a"])(T,I,w,!1,null,"e52bb95e",null)),S=$.exports,D=function(){var t=this,s=t.$createElement,e=t._self._c||s;return 0!==Object.keys(t.goods).length?e("div",{attrs:{id:"detail-base"}},[e("div",{attrs:{id:"base-item-info"}},[e("div",[t._v(t._s(t.goods.title))]),e("div",{staticClass:"item-info-price"},[e("span",{staticClass:"price"},[t._v(t._s(t.goods.price))]),e("span",{staticClass:"oldPrice"},[t._v(t._s(t.goods.oldPrice))]),e("span",{staticClass:"discountDesc"},[t._v(t._s(t.goods.discountDesc))])])]),e("div",{attrs:{id:"base-item"}},[e("span",[t._v(t._s(t.goods.columns[0]))]),e("span",[t._v(t._s(t.goods.columns[1]))]),e("span",[t._v(t._s(t.goods.services[t.goods.services.length-1].name))])]),e("div",{attrs:{id:"base-info"}},t._l(t.goods.services.length-1,function(s){return e("span",{key:s,staticClass:"base-info-item"},[e("img",{attrs:{src:t.goods.services[s-1].icon}}),e("span",[t._v(t._s(t.goods.services[s-1].name))])])}),0)]):t._e()},j=[],O={name:"DetailBaseInfo",props:{goods:{type:Object,default:function(){return{}}}}},E=O,G=(e("1df5"),Object(g["a"])(E,D,j,!1,null,null,null)),L=G.exports,B=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"shop-info"}},[e("div",{attrs:{id:"shop-info-a"}},[e("img",{attrs:{src:t.shop.shopLogo}}),e("span",{staticClass:"shopname"},[t._v(t._s(t.shop.name))])]),e("div",{staticClass:"shop-info-zong"},[e("div",{staticClass:"shop-info-left"},[e("span",{staticClass:"left-left"},[e("span",{staticClass:"left-left-size"},[t._v(t._s(t._f("sellCountFilter")(t.shop.cSells)))]),e("div",{staticClass:"shop-info-left-z"},[t._v("总销量")])]),e("span",{staticClass:"left-left"},[e("span",{staticClass:"left-left-size"},[t._v(t._s(t.shop.cGoods))]),e("div",{staticClass:"shop-info-left-z"},[t._v("全部宝贝")])])]),e("div",{staticClass:"shop-item-right"},t._l(t.shop.score,function(s){return e("tr",[e("td",[t._v(t._s(s.name))]),e("td",{staticClass:"isb",class:{itemm:s.isBetter}},[t._v(t._s(s.score))]),e("td",{staticClass:"issb",class:{move:s.isBetter}},[e("span",[t._v(t._s(s.isBetter?"高":"低"))])])])}),0)]),e("button",{staticClass:"btn-btn"},[t._v("进店逛逛")])])},N=[],W={name:"DetailShopInfo",props:{shop:{type:Object,default:function(){return{}}}},filters:{sellCountFilter:function(t){if(t>1e4)return(t/1e4).toFixed(2)+"万"}}},P=W,Y=(e("6507"),Object(g["a"])(P,B,N,!1,null,"9c3cad48",null)),z=Y.exports,X=function(){var t=this,s=t.$createElement,e=t._self._c||s;return 0!==Object.keys(t.goodInfo).length?e("div",{attrs:{id:"good-info"}},[e("div",{attrs:{id:"info"}},[e("div",{staticClass:"start"}),e("span",{staticClass:"end"}),e("span",[t._v(t._s(t.goodInfo.desc))]),e("span",{staticClass:"and"}),e("div",{staticStyle:{"margin-top":"20px"},attrs:{id:"item"}},[e("span",[t._v(t._s(t.goodInfo.detailImage[0].key))])])]),e("div",{attrs:{id:"info-item"}},t._l(t.goodInfo.detailImage[0].list,function(s,i){return e("img",{key:i,attrs:{src:s,alt:""},on:{load:t.imgLoad}})}),0)]):t._e()},F=[],M={name:"DetailGoodsInfo",props:{goodInfo:{type:Object,default:function(){return{}}}},data:function(){return{counter:0,imagesLength:0}},methods:{imgLoad:function(){this.$emit("detailImageLoad")}}},R=M,A=(e("ba41"),Object(g["a"])(R,X,F,!1,null,"3df6b106",null)),J=A.exports,q=function(){var t=this,s=t.$createElement,e=t._self._c||s;return 0!==Object.keys(t.paramss).length?e("div",{attrs:{id:"param-info"}},[t._l(t.paramss.tables,function(s,i){return e("table",t._l(s,function(s,i){return e("tr",t._l(s,function(s){return e("td",[t._v(" "+t._s(s))])}),0)}),0)}),t._l(t.paramss.set,function(s,i){return e("table",{staticClass:"info-param"},[e("td",{staticClass:"info-param-key"},[t._v(" "+t._s(s.key))]),e("td",{staticClass:"param-value"},[t._v(" "+t._s(s.value))])])}),t._v("；\n")],2):t._e()},H=[],K={name:"DetailParamInfo",props:{paramss:{type:Object,default:function(){return{}}}}},Q=K,U=(e("0ac4"),Object(g["a"])(Q,q,H,!1,null,"0939fdaf",null)),V=U.exports,Z=function(){var t=this,s=t.$createElement,e=t._self._c||s;return 0!==Object.keys(t.rate).length?e("div",{staticClass:"comment-infoa",attrs:{id:"commen-info"}},[e("div",{attrs:{id:"commen-cliead"}},[t._m(0),e("div",{attrs:{id:"info-item"}},[e("img",{attrs:{src:t.rate.user.avatar}}),e("span",{staticClass:"shopname"},[t._v(t._s(t.rate.user.uname))])]),e("div",{attrs:{id:"info-info"}},[e("div",[t._v(t._s(t.rate.content))]),e("span",{staticClass:"infoo"},[t._v(t._s(t.rate.created))]),e("span",{staticClass:"infoo"},[t._v(t._s(t.rate.style))])])])]):t._e()},tt=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"info-info"},[e("span",[t._v("用户评价")]),e("span",{staticStyle:{float:"right"}},[t._v("更多"),e("span",{staticStyle:{"margin-left":"10px"}},[t._v(">")])])])}],st={name:"DetailCommentlnfo",props:{rate:{type:Object,default:function(){return{}}}},filters:{datea:function(t){var s=new Date(1e3*t);return console.log(s),{date:s}}}},et=st,it=(e("c064"),Object(g["a"])(et,Z,tt,!1,null,"7e042a2c",null)),nt=it.exports,at=e("74b0"),ot=e("5d17"),rt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"bottom-bar"},[t._m(0),e("div",{staticClass:"bar-item bar-right"},[e("div",{staticClass:"cart",on:{click:t.addToCart}},[t._v("加入购物车")]),e("div",{staticClass:"buy"},[t._v("购买")])])])},ct=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"bar-item bar-left"},[e("div",[e("i",{staticClass:"icon service"}),e("span",{staticClass:"text"},[t._v("客服")])]),e("div",[e("i",{staticClass:"icon shop"}),e("span",{staticClass:"text"},[t._v("店铺")])]),e("div",[e("i",{staticClass:"icon select"}),e("span",{staticClass:"text"},[t._v("收藏")])])])}],lt={name:"DetailBottomBar",methods:{addToCart:function(){this.$emit("addToCart")}}},dt=lt,ut=(e("6738"),Object(g["a"])(dt,rt,ct,!1,null,"d41b638e",null)),ft=ut.exports,mt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"toast"},[e("div",[t._v(t._s(t.message))])])},ht=[],pt={name:"Tost",props:{message:{type:String,default:""},show:{type:Boolean,default:!1}}},vt=pt,_t=(e("4e6f"),Object(g["a"])(vt,mt,ht,!1,null,"f35e29da",null)),gt=_t.exports,bt={name:"Detail",components:{DetailNavber:C,DetailSwiper:S,DetailBaseInfo:L,DetailShopInfo:z,DetailGoodsInfo:J,DetailParamInfo:V,DetailCommentlnfo:nt,DetailBottomBar:ft,Goods:at["a"],Scroll:ot["a"],Tost:gt},data:function(){return{iid:null,topImages:[],GoodsItem:{},Shop:{},GoodInfo:{},paramss:{},rate:{},recommends:[],themeTopYs:[],getThemeTopY:null,currentIndex:0,message:"",show:!1}},created:function(){var t=this;this.iid=this.$route.params.iid,r(this.iid).then(function(s){console.log(s);var e=s.result;t.topImages=e.itemInfo.topImages,t.GoodsItem=new c(e.itemInfo,e.columns,e.shopInfo.services),t.Shop=new l(e.shopInfo),t.GoodInfo=new d(e.detailInfo,e.skuInfo),t.paramss=new u(e.itemParams,e.itemParams),t.rate=e.rate.list[0]}),f().then(function(s){t.recommends=s.data.list})},mounted:function(){var t=this;this.$bus.$on("itemImageLoad",function(){t.$refs.scroll&&t.$refs.scroll.refresh()})},updated:function(){},methods:{itemClick:function(t){this.$refs.scroll.scrollTo(0,-this.themeTopYs[t],200)},detailImageLoad:function(){this.themeTopYs=[],this.themeTopYs.push(0),this.themeTopYs.push(this.$refs.param.$el.offsetTop-36),this.themeTopYs.push(this.$refs.comment.$el.offsetTop-36),this.themeTopYs.push(this.$refs.recommend.$el.offsetTop-36),this.$refs.scroll&&this.$refs.scroll.refresh()},contentScroll:function(){},addToCart:function(){var t=this,s={};s.iid=this.iid,s.image=this.topImages[0],s.title=this.GoodInfo.title,s.desc=this.GoodInfo.desc,s.price=this.GoodsItem.price,this.$store.dispatch("addCart",s).then(function(s){t.message=s,t.show=!0,setTimeout(function(){t.message=s,t.show=!1},1500)})}}},Ct=bt,It=(e("dc79"),Object(g["a"])(Ct,i,n,!1,null,"01ed3463",null));s["default"]=It.exports},"74b0":function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"goods"}},t._l(t.goods,function(t,s){return e("GoodsItem",{key:s,attrs:{"goods-item":t}})}),1)},n=[],a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"goods-item",on:{click:t.imgClick}},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.showImage,expression:"showImage"}],on:{load:t.imageLoad}}),e("div",{staticClass:"goods-u-info"},[e("div",{staticClass:"goods-title"},[t._v(t._s(t.goodsItem.title))]),e("div",{staticClass:"goods-pc"},[e("span",{staticClass:"goods-price"},[t._v(t._s(t.goodsItem.price))]),e("span",{staticClass:"goods-p"},[t._v("     ")]),e("span",{staticClass:"goods-cfav"},[t._v(t._s(t.goodsItem.cfav))])])])])},o=[],r={name:"GoodsItem",props:{goodsItem:{type:Object,default:function(){return{}}}},computed:{showImage:function(){return this.goodsItem.img||this.goodsItem.image||this.goodsItem.show.img}},methods:{imageLoad:function(){this.$bus.$emit("itemImageLoad")},imgClick:function(){this.$router.push("/detail/"+this.goodsItem.iid)}}},c=r,l=(e("9fd4"),e("2877")),d=Object(l["a"])(c,a,o,!1,null,"4da3b16e",null),u=d.exports,f={name:"Goods",components:{GoodsItem:u},props:{goods:{type:Array,default:function(){return[]}}}},m=f,h=(e("97ab"),Object(l["a"])(m,i,n,!1,null,"43435192",null));s["a"]=h.exports},"760a":function(t,s,e){},"7a74":function(t,s,e){t.exports=e.p+"img/back.26df9036.svg"},"7f7f":function(t,s,e){var i=e("86cc").f,n=Function.prototype,a=/^\s*function ([^ (]*)/,o="name";o in n||e("9e1e")&&i(n,o,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(t){return""}}})},8088:function(t,s,e){},"8db3":function(t,s,e){},"97ab":function(t,s,e){"use strict";var i=e("2172"),n=e.n(i);n.a},"9c7e":function(t,s,e){},"9fd4":function(t,s,e){"use strict";var i=e("31f8"),n=e.n(i);n.a},ace8:function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"swiper"}},[e("div",{staticClass:"swiper",on:{touchstart:t.touchStart,touchmove:t.touchMove,touchend:t.touchEnd}},[t._t("swiper")],2),t._t("indicator"),e("div",{staticClass:"indicator"},[t.showIndicator&&t.slideCount>1?t._t("indicator",t._l(t.slideCount,function(s,i){return e("div",{key:i,staticClass:"indi-item",class:{active:i===t.currentIndex-1}})})):t._e()],2)],2)},n=[],a=(e("c5f6"),{name:"Swiper",props:{interval:{type:Number,default:3e3},animDuration:{type:Number,default:300},moveRatio:{type:Number,default:.25},showIndicator:{type:Boolean,default:!0}},data:function(){return{slideCount:0,totalWidth:0,swiperStyle:{},currentIndex:1,scrolling:!1}},mounted:function(){var t=this;setTimeout(function(){t.handleDom(),t.startTimer()},1e3)},methods:{startTimer:function(){var t=this;this.playTimer=window.setInterval(function(){t.currentIndex++,t.scrollContent(-t.currentIndex*t.totalWidth)},this.interval)},stopTimer:function(){window.clearInterval(this.playTimer)},scrollContent:function(t){this.scrolling=!0,this.swiperStyle.transition="transform "+this.animDuration+"ms",this.setTransform(t),this.checkPosition(),this.scrolling=!1},checkPosition:function(){var t=this;window.setTimeout(function(){t.swiperStyle.transition="0ms",t.currentIndex>=t.slideCount+1?(t.currentIndex=1,t.setTransform(-t.currentIndex*t.totalWidth)):t.currentIndex<=0&&(t.currentIndex=t.slideCount,t.setTransform(-t.currentIndex*t.totalWidth)),t.$emit("transitionEnd",t.currentIndex-1)},this.animDuration)},setTransform:function(t){this.swiperStyle.transform="translate3d(".concat(t,"px, 0, 0)"),this.swiperStyle["-webkit-transform"]="translate3d(".concat(t,"px), 0, 0"),this.swiperStyle["-ms-transform"]="translate3d(".concat(t,"px), 0, 0")},handleDom:function(){var t=document.querySelector(".swiper"),s=t.getElementsByClassName("slide");if(this.slideCount=s.length,this.slideCount>1){var e=s[0].cloneNode(!0),i=s[this.slideCount-1].cloneNode(!0);t.insertBefore(i,s[0]),t.appendChild(e),this.totalWidth=t.offsetWidth,this.swiperStyle=t.style}this.setTransform(-this.totalWidth)},touchStart:function(t){this.scrolling||(this.stopTimer(),this.startX=t.touches[0].pageX)},touchMove:function(t){this.currentX=t.touches[0].pageX,this.distance=this.currentX-this.startX;var s=-this.currentIndex*this.totalWidth,e=this.distance+s;this.setTransform(e)},touchEnd:function(t){var s=Math.abs(this.distance);0!==this.distance&&(this.distance>0&&s>this.totalWidth*this.moveRatio?this.currentIndex--:this.distance<0&&s>this.totalWidth*this.moveRatio&&this.currentIndex++,this.scrollContent(-this.currentIndex*this.totalWidth),this.startTimer())},previous:function(){this.changeItem(-1)},next:function(){this.changeItem(1)},changeItem:function(t){this.stopTimer(),this.currentIndex+=t,this.scrollContent(-this.currentIndex*this.totalWidth),this.startTimer()}}}),o=a,r=(e("dc62"),e("2877")),c=Object(r["a"])(o,i,n,!1,null,"410c6cc6",null);s["a"]=c.exports},af35:function(t,s,e){},b9b7:function(t,s,e){"use strict";var i=e("8db3"),n=e.n(i);n.a},ba41:function(t,s,e){"use strict";var i=e("760a"),n=e.n(i);n.a},c064:function(t,s,e){"use strict";var i=e("1ce3"),n=e.n(i);n.a},d3f9:function(t,s,e){},dc62:function(t,s,e){"use strict";var i=e("4af7"),n=e.n(i);n.a},dc79:function(t,s,e){"use strict";var i=e("8088"),n=e.n(i);n.a},e8c2:function(t,s,e){}}]);
//# sourceMappingURL=chunk-f64c554c.21bcac1b.js.map