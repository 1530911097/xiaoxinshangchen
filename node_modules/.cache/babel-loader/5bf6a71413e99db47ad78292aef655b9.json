{"remainingRequest":"C:\\Users\\Administrator\\Documents\\HBuilderProjects\\supermall1\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Administrator\\Documents\\HBuilderProjects\\supermall1\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Documents\\HBuilderProjects\\supermall1\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Documents\\HBuilderProjects\\supermall1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Documents\\HBuilderProjects\\supermall1\\src\\views\\cart\\childCart\\CartBottomBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Documents\\HBuilderProjects\\supermall1\\src\\views\\cart\\childCart\\CartBottomBar.vue","mtime":1614931724048},{"path":"C:\\Users\\Administrator\\Documents\\HBuilderProjects\\supermall1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1613721357303},{"path":"C:\\Users\\Administrator\\Documents\\HBuilderProjects\\supermall1\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1613721335961},{"path":"C:\\Users\\Administrator\\Documents\\HBuilderProjects\\supermall1\\node_modules\\babel-loader\\lib\\index.js","mtime":1613721456817},{"path":"C:\\Users\\Administrator\\Documents\\HBuilderProjects\\supermall1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1613721357303},{"path":"C:\\Users\\Administrator\\Documents\\HBuilderProjects\\supermall1\\node_modules\\vue-loader\\lib\\index.js","mtime":1613721440296}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.array.reduce\";\nimport _objectSpread from \"C:\\\\Users\\\\Administrator\\\\Documents\\\\HBuilderProjects\\\\supermall1\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport CheckButton from \"./CheckButton\";\nimport { mapGetters } from 'vuex';\nexport default {\n  name: \"CartBottomBar\",\n  components: {\n    CheckButton: CheckButton\n  },\n  computed: _objectSpread({}, mapGetters(['cartLength', 'cartList']), {\n    totalPrice: function totalPrice() {\n      return '￥' + this.$store.state.cartList.filter(function (item) {\n        return item.checked;\n      }).reduce(function (preValue, item) {\n        return preValue + item.price * item.count;\n      }, 0).toFixed(2);\n    },\n    checKedLength: function checKedLength() {\n      return this.$store.state.cartList.filter(function (item) {\n        return item.checked;\n      }).length;\n    },\n    // isSelectAll(){\n    //   return !(this.$store.state.cartList.filter(item => item.checked).length)\n    //   console.log('--');\n    // }\n    isSelectAll: function isSelectAll() {\n      if (this.$store.getters.cartList.length === 0) return false;\n      return this.$store.getters.cartList.find(function (item) {\n        return item.checked === false;\n      }) === undefined;\n    }\n  }),\n  methods: {\n    checkBtnClick: function checkBtnClick() {\n      // 1.判断是否有未选中的按钮\n      var isSelectAll = this.$store.getters.cartList.find(function (item) {\n        return !item.checked;\n      }); // 2.有未选中的内容, 则全部选中\n\n      if (isSelectAll) {\n        this.$store.state.cartList.forEach(function (item) {\n          item.checked = true;\n        });\n      } else {\n        this.$store.state.cartList.forEach(function (item) {\n          item.checked = false;\n        });\n      }\n    },\n    calcClick: function calcClick() {\n      if (!this.isSelectAll) {\n        this.$toast.show('请选择购买的商品', 2000);\n      }\n    }\n  }\n};",{"version":3,"sources":["CartBottomBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAWA,OAAA,WAAA;AAEA,SAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GAFA;AAKA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,YAAA,EAAA,UAAA,CAAA,CADA;AAEA,IAAA,UAFA,wBAEA;AACA,aAAA,MAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,eAAA,IAAA,CAAA,OAAA;AACA,OAFA,EAEA,MAFA,CAEA,UAAA,QAAA,EAAA,IAAA,EAAA;AACA,eAAA,QAAA,GAAA,IAAA,CAAA,KAAA,GAAA,IAAA,CAAA,KAAA;AACA,OAJA,EAIA,CAJA,EAIA,OAJA,CAIA,CAJA,CAAA;AAKA,KARA;AASA,IAAA,aATA,2BASA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,MAAA,CAAA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,OAAA;AAAA,OAAA,EAAA,MAAA;AACA,KAXA;AAYA;AACA;AACA;AACA;AAEA,IAAA,WAAA,EAAA,uBAAA;AACA,UAAA,KAAA,MAAA,CAAA,OAAA,CAAA,QAAA,CAAA,MAAA,KAAA,CAAA,EAAA,OAAA,KAAA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,QAAA,CAAA,IAAA,CAAA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,OAAA,KAAA,KAAA;AAAA,OAAA,MAAA,SAAA;AACA;AApBA,IALA;AA2BA,EAAA,OAAA,EAAA;AACA,IAAA,aAAA,EAAA,yBAAA;AAEA;AACA,UAAA,WAAA,GAAA,KAAA,MAAA,CAAA,OAAA,CAAA,QAAA,CAAA,IAAA,CAAA,UAAA,IAAA;AAAA,eAAA,CAAA,IAAA,CAAA,OAAA;AAAA,OAAA,CAAA,CAHA,CAKA;;AACA,UAAA,WAAA,EAAA;AACA,aAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,UAAA,IAAA,CAAA,OAAA,GAAA,IAAA;AACA,SAFA;AAGA,OAJA,MAIA;AACA,aAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,UAAA,IAAA,CAAA,OAAA,GAAA,KAAA;AACA,SAFA;AAGA;AACA,KAhBA;AAiBA,IAAA,SAjBA,uBAiBA;AACA,UAAA,CAAA,KAAA,WAAA,EAAA;AACA,aAAA,MAAA,CAAA,IAAA,CAAA,UAAA,EAAA,IAAA;AACA;AACA;AArBA;AA3BA,CAAA","sourcesContent":["<template>\n    <div class=\"cart-bottom-bar\">\n      <div class=\"check-content\">\n        <check-button @checkBtnClick=\"checkBtnClick\" v-model=\"isSelectAll\" class=\"check-button\"></check-button>\n        <span>全选</span>\n      </div>\n      <p class=\"price\">合计:{{totalPrice}}</p>\n      <div class=\"calculate\" @click=\"calcClick\">清空购物车({{checKedLength}})</div>\n    </div>\n</template>\n<script>\n  import CheckButton from './CheckButton'\n\n  import { mapGetters } from 'vuex'\n\n  export default {\n    name: \"CartBottomBar\",\n    components: {\n      CheckButton,\n    },\n    computed:{\n      ...mapGetters(['cartLength','cartList']),\n      totalPrice(){\n        return '￥' + this.$store.state.cartList.filter(item => {\n          return item.checked\n        }).reduce((preValue,item) => {\n          return preValue + item.price*item.count\n        },0).toFixed(2)\n      },\n      checKedLength(){\n        return this.$store.state.cartList.filter(item => item.checked).length\n      },\n      // isSelectAll(){\n      //   return !(this.$store.state.cartList.filter(item => item.checked).length)\n      //   console.log('--');\n      // }\n\n    isSelectAll: function () {\n        if (this.$store.getters.cartList.length === 0)return false;\n      return this.$store.getters.cartList.find(item => item.checked === false) === undefined;\n    }\n    },\n    methods: {\n      checkBtnClick: function () {\r\n\t\t \n        // 1.判断是否有未选中的按钮\n        let isSelectAll = this.$store.getters.cartList.find(item =>!item.checked);\n\n        // 2.有未选中的内容, 则全部选中\n        if (isSelectAll) {\n          this.$store.state.cartList.forEach(item => {\n            item.checked = true;\n          });\n        } else {\n          this.$store.state.cartList.forEach(item => {\n            item.checked = false;\n          });\n        }\n      },\n      calcClick(){\n        if (!this.isSelectAll) {\n          this.$toast.show('请选择购买的商品',2000)\n        }\n      },\n    }\n  }\n</script>\n\n<style scoped>\n  .cart-bottom-bar{\r\n\tmargin-top: -44px;\n    background-color:#a3a3a5;\n    height: 40px;\n    display: flex;\n    font-size: 15px;\n  }\n  .check-content{\n    display: flex;\n    /*justify-content: center;*/\n    /*align-items: center;*/\n    width: 55px;\n    line-height: 40px;\n    margin-left: 7px;\n  }\n  .check-button{\n    width: 20px;\n    height: 20px;\n    line-height: 20px;\n    padding-top: 10px;\n  }\n  .price{\n    margin-left: 20px;\n    line-height: 40px;\n    flex: 1;\n  }\n  .calculate{\n    width: 110px;\n    padding-right: 0px;\n    line-height: 40px;\n\n    background-color:#ffe817;\n    text-align: center;\n  }\n</style>\n"],"sourceRoot":"src/views/cart/childCart"}]}