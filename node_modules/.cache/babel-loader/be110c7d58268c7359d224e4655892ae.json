{"remainingRequest":"E:\\HBuilderProjects\\supermall1\\node_modules\\thread-loader\\dist\\cjs.js!E:\\HBuilderProjects\\supermall1\\node_modules\\babel-loader\\lib\\index.js!E:\\HBuilderProjects\\supermall1\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\HBuilderProjects\\supermall1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\HBuilderProjects\\supermall1\\src\\views\\category\\Category.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\HBuilderProjects\\supermall1\\src\\views\\category\\Category.vue","mtime":1615108163762},{"path":"E:\\HBuilderProjects\\supermall1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1613721357303},{"path":"E:\\HBuilderProjects\\supermall1\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1613721335961},{"path":"E:\\HBuilderProjects\\supermall1\\node_modules\\babel-loader\\lib\\index.js","mtime":1613721456817},{"path":"E:\\HBuilderProjects\\supermall1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1613721357303},{"path":"E:\\HBuilderProjects\\supermall1\\node_modules\\vue-loader\\lib\\index.js","mtime":1613721440296}],"contextDependencies":[],"result":["import _objectSpread from \"E:\\\\HBuilderProjects\\\\supermall1\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport navbar from \"../../components/common/navar/Navbar.vue\";\nimport scroll from \"../../components/common/scroll/Scroll.vue\";\nimport CateMeum from \"./childCategory/CateMeum.vue\";\nimport CateContentCategory from \"./childCategory/CateContentCategory.vue\";\nimport { getCetegory, getSubcategory } from \"../../network/category.js\";\nexport default {\n  name: 'Category',\n  components: {\n    navbar: navbar,\n    CateMeum: CateMeum,\n    CateContentCategory: CateContentCategory,\n    scroll: scroll\n  },\n  data: function data() {\n    return {\n      meum: [],\n      categoryData: {},\n      currentIndex: -1\n    };\n  },\n  created: function created() {\n    this._getCetegory();\n  },\n  computed: {\n    showSubcategory: function showSubcategory() {\n      if (this.currentIndex === -1) return {};\n      /* 这个运用在Tabmenu===-1*/\n\n      return this.categoryData[this.currentIndex].subcategories;\n    }\n  },\n  methods: {\n    _getCetegory: function _getCetegory() {\n      var _this = this;\n\n      getCetegory().then(function (res) {\n        console.log(res.data);\n        _this.meum = res.data.category.list;\n\n        for (var i = 0; i < _this.meum.length; i++) {\n          _this.categoryData[i] = {\n            subcategories: {}\n          };\n        }\n\n        _this._getSubcategories(0);\n      });\n    },\n    _getSubcategories: function _getSubcategories(index) {\n      var _this2 = this;\n\n      this.currentIndex = index;\n      var mailKey = this.meum[index].maitKey;\n      getSubcategory(mailKey).then(function (res) {\n        _this2.categoryData[index].subcategories = res.data;\n        _this2.categoryData = _objectSpread({}, _this2.categoryData);\n        console.log(res.data);\n      });\n    },\n    selectItem: function selectItem(index) {\n      console.log('a');\n\n      this._getSubcategories(index);\n    }\n  }\n};",{"version":3,"sources":["Category.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA,OAAA,MAAA;AACA,OAAA,MAAA;AACA,OAAA,QAAA;AACA,OAAA,mBAAA;AACA,SACA,WADA,EAEA,cAFA;AAIA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA,MADA;AAEA,IAAA,QAAA,EAAA,QAFA;AAGA,IAAA,mBAAA,EAAA,mBAHA;AAIA,IAAA,MAAA,EAAA;AAJA,GAFA;AAQA,EAAA,IARA,kBAQA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAGA,MAAA,YAAA,EAAA,EAHA;AAMA,MAAA,YAAA,EAAA,CAAA;AANA,KAAA;AAQA,GAjBA;AAkBA,EAAA,OAlBA,qBAkBA;AACA,SAAA,YAAA;AACA,GApBA;AAqBA,EAAA,QAAA,EAAA;AACA,IAAA,eADA,6BACA;AACA,UAAA,KAAA,YAAA,KAAA,CAAA,CAAA,EAAA,OAAA,EAAA;AAAA;;AACA,aAAA,KAAA,YAAA,CAAA,KAAA,YAAA,EAAA,aAAA;AACA;AAJA,GArBA;AA4BA,EAAA,OAAA,EAAA;AAEA,IAAA,YAFA,0BAEA;AAAA;;AACA,MAAA,WAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA;AACA,QAAA,KAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,QAAA,CAAA,IAAA;;AACA,aAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,CAAA,IAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,UAAA,KAAA,CAAA,YAAA,CAAA,CAAA,IAAA;AACA,YAAA,aAAA,EAAA;AADA,WAAA;AAGA;;AACA,QAAA,KAAA,CAAA,iBAAA,CAAA,CAAA;AACA,OATA;AAUA,KAbA;AAcA,IAAA,iBAdA,6BAcA,KAdA,EAcA;AAAA;;AACA,WAAA,YAAA,GAAA,KAAA;AACA,UAAA,OAAA,GAAA,KAAA,IAAA,CAAA,KAAA,EAAA,OAAA;AACA,MAAA,cAAA,CAAA,OAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,YAAA,CAAA,KAAA,EAAA,aAAA,GAAA,GAAA,CAAA,IAAA;AACA,QAAA,MAAA,CAAA,YAAA,qBAAA,MAAA,CAAA,YAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA;AACA,OAJA;AAKA,KAtBA;AAuBA,IAAA,UAvBA,sBAuBA,KAvBA,EAuBA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AACA,WAAA,iBAAA,CAAA,KAAA;AACA;AA1BA;AA5BA,CAAA","sourcesContent":["<template>\r\n\t<div id=\"Category\">\r\n\t\t<navbar>\r\n\t\t\t<template #center>\r\n\t\t\t\t商品分类</template>\r\n\t\t</navbar>\r\n\r\n\t\t<div id=\"left\">\r\n\t\t\t<CateMeum :meum=\"meum\" @selectItem=\"selectItem\"></CateMeum>\r\n\t\t</div>\r\n\r\n\t\t<scroll ref=\"scroll\" id=\"tab-content\" :data=\"[categoryData]\">\r\n\t\t\t<template #scroll>\r\n\t\t\t\t<div id=\"right\">\r\n\t\t\t\t\t<CateContentCategory :subcategories=\"showSubcategory\"></CateContentCategory>\r\n\t\t\t\t</div>\r\n\t\t\t</template>\r\n\t\t</scroll>\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport navbar from '../../components/common/navar/Navbar.vue'\r\n\timport scroll from '../../components/common/scroll/Scroll.vue'\r\n\timport CateMeum from './childCategory/CateMeum.vue'\r\n\timport CateContentCategory from './childCategory/CateContentCategory.vue'\r\n\timport {\r\n\t\tgetCetegory,\r\n\t\tgetSubcategory\r\n\t} from '../../network/category.js'\r\n\texport default {\r\n\t\tname: 'Category',\r\n\t\tcomponents: {\r\n\t\t\tnavbar,\r\n\t\t\tCateMeum,\r\n\t\t\tCateContentCategory,\r\n\t\t\tscroll\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tmeum: [],\r\n\r\n\t\t\t\tcategoryData: {\r\n\r\n\t\t\t\t},\r\n\t\t\t\tcurrentIndex: -1\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis._getCetegory()\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tshowSubcategory() {\r\n\t\t\t\tif (this.currentIndex === -1) return {} /* 这个运用在Tabmenu===-1*/\r\n\t\t\t\treturn this.categoryData[this.currentIndex].subcategories\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\r\n\t\t\t_getCetegory() {\r\n\t\t\t\tgetCetegory().then(res => {\r\n\t\t\t\t\tconsole.log(res.data)\r\n\t\t\t\t\tthis.meum = res.data.category.list\r\n\t\t\t\t\tfor (let i = 0; i < this.meum.length; i++) {\r\n\t\t\t\t\t\tthis.categoryData[i] = {\r\n\t\t\t\t\t\t\tsubcategories: {},\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._getSubcategories(0)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t_getSubcategories(index) {\r\n\t\t\t\tthis.currentIndex = index;\r\n\t\t\t\tconst mailKey = this.meum[index].maitKey;\r\n\t\t\t\tgetSubcategory(mailKey).then(res => {\r\n\t\t\t\t\tthis.categoryData[index].subcategories = res.data\r\n\t\t\t\t\tthis.categoryData = { ...this.categoryData}\r\n\t\t\t\t\tconsole.log(res.data)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\tselectItem(index) {\r\n\t\t\tconsole.log('a')\r\n\t\t\tthis._getSubcategories(index)\r\n\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t#Category {\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.wrapper {\r\n\t\theight: calc(100vh - 87px);\r\n\t}\r\n</style>\n"],"sourceRoot":"src/views/category"}]}