{"remainingRequest":"C:\\Users\\Administrator\\Documents\\HBuilderProjects\\supermall1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Documents\\HBuilderProjects\\supermall1\\src\\views\\home\\Home.vue?vue&type=style&index=0&id=3dd2e005&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Administrator\\Documents\\HBuilderProjects\\supermall1\\src\\views\\home\\Home.vue","mtime":1614004863485},{"path":"C:\\Users\\Administrator\\Documents\\HBuilderProjects\\supermall1\\node_modules\\css-loader\\index.js","mtime":1613721295861},{"path":"C:\\Users\\Administrator\\Documents\\HBuilderProjects\\supermall1\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1613721440326},{"path":"C:\\Users\\Administrator\\Documents\\HBuilderProjects\\supermall1\\node_modules\\postcss-loader\\src\\index.js","mtime":1613721453618},{"path":"C:\\Users\\Administrator\\Documents\\HBuilderProjects\\supermall1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1613721357303},{"path":"C:\\Users\\Administrator\\Documents\\HBuilderProjects\\supermall1\\node_modules\\vue-loader\\lib\\index.js","mtime":1613721440296}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t#home{\n\t\tpadding-top: 35px;\n\t}\n\t.home-navbar{\n\t  background-color: var(--color-tint);\n\t  color: white;\n\t  position: fixed;\n\t  z-index: 1;\n\t  left: 0;\n\t  right: 0;\n\t  top: 0;\n\t}\n\t.tab-home-control{\n\t\t  position:fixed;\n\t\t  z-index: 1;\n\t\t  width: 100%;\n\t}\n .content{\n\n    height: calc(100vh - 87px);\n    /*overflow: hidden;*/\n  }\t\n\n",{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views/home","sourcesContent":["<template>\n\t<div id=\"home\">\r\n\t\t<navbar class=\"home-navbar\" @click.native=\"backClick\"><template #center>购物街</template></navbar>\r\n\t\t <tab-control :titles=\"['流行','新款','推荐']\" @tabClick=\"tabClick\" class=\"tab-home-control\" v-show=\"istabFixed\" ref=\"tabControl1\"/>\r\n\t\t<scroll class=\"content\" ref=\"scroll\" @scroll=\"contentScroll\" :pull-up-load=\"true\"  @pullingUp=\"LoadMore\"  :probe-type=\"3\"> <!-- ：probe-type=\"3\"说明这个要实时监听位置,popros数值-->\r\n\t\t<template #scroll>\t\r\n\t\t<home-swiper v-bind:banners=\"banners\" @swiperImgLoad=\"swiperImgLoad\"></home-swiper>\r\n\t\t<recommend-view :recommend=\"recommend\"  @recommendImgLoad.once=\"recommendImgLoad\"></recommend-view>\r\n\t\t<Feature></Feature>\r\n\t\t <tab-control :titles=\"['流行','新款','推荐']\"  @tabClick=\"tabClick\" ref=\"tabControl2\"></tab-control>\r\n\t\t<Goods :goods=\"showGoods\"/></Goods>\r\n\t\t</template>\r\n\t\t</scroll>\r\n\t<back-top @click.native='backClick' v-show=\"isShow\"></back-top>\t\r\n</div>\r\n\n</template>\n\n<script>\r\n\timport  scroll from '../../components/common/scroll/Scroll.vue'\r\n\timport navbar from '../../components/common/navar/Navbar.vue'\r\n\timport HomeSwiper from './childHome/HomeSwiper.vue'\r\n\timport RecommendView from './childHome/RecommendView.vue'\r\n\timport Feature  from './childHome/Feature.vue'\r\n\timport TabControl from '../../components/content/tabControl/TabControl.vue'\r\n\timport Goods from '../../components/content/goods/Goods.vue'\r\n\timport {getHomeMultidata,getGoods} from  '../../network/home.js'\r\n\timport backTop from '../../components/content/backTop/backTop.vue'\r\n    \r\n\t\r\n\t\n\texport default{\n\t\tname:'Home',\r\n\t\tcomponents:{\r\n\t\t\tnavbar,\r\n\t\t\tHomeSwiper,\r\n\t\t\tRecommendView,\r\n\t\t\tFeature,\r\n\t\t\tTabControl,\r\n\t\t\tGoods,\r\n\t\t\tbackTop,\r\n\t\t\tscroll\r\n\t\t},\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\tbanners:[],\r\n\t\t\trecommend:[],\r\n\t\t\tgoods:{                                   /* 初始化保存数组，goods的单向绑定*/  /* 因为是三页*/\r\n\t\t\t\t'pop':{page:0,list:[]},              /* page:页。list:[]条*/\r\n\t\t\t\t'new':{page:0,list:[]},\r\n\t\t\t\t'sell':{page:0,list:[]},\r\n\t\t\t},\r\n\t\t\tcurrentType:'pop',                   /* 这里是为了默认一个值，来显示数据*/\r\n\t\t\ttabOffsetTop:0,\t\t\t            \r\n\t\t\tisShow:false,                      /* 当默认开始消失，等滑动超过1000这显示*/\r\n\t\t\tistabFixed:false,\r\n\t\t     recommendImg:false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed:{                                           /*这里使用的是，计算方法computed*/\r\n\t\t showGoods(){                                       /* 这里定义了商品的方法*/                \r\n\t\t    return this.goods[this.currentType].list          /* 这个数组，指向这个元素的.list*/\r\n\t\t  }\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tthis.getHomeMultidata()\r\n\t\t\tthis.getGoods('pop')\r\n\t\t\tthis.getGoods('new')\r\n\t\t\tthis.getGoods('sell')\r\n\t\t\tthis.$bus.$on('itemImageLoad',()=>{                 /* 这里的就是重新计算位置，来实时的*/\r\n\t\t\tthis.$refs.scroll.refresh()\r\n\t\t\t})\r\n\t\t},\r\n      mounted(){                                         /* mounted挂载*/\r\n\t\t   /* 利用refs去获取tab-control组件的元素的*/\r\n\t\t  \r\n\t  },\r\n\t\tmethods:{\r\n\t\t\t\r\n\t\t tabClick(index){\r\n\t\t\t switch(index){\r\n\t\t\t \t\tcase 0:\r\n\t\t\t\t\t this.currentType='pop'\r\n\t\t\t\t\t break\r\n\t\t\t\t\t case 1:\r\n\t\t\t\t\t this.currentType='new'\r\n\t\t\t\t\t break\r\n\t\t\t\t\t case 2:\r\n\t\t\t\t\t this.currentType='sell'\r\n\t\t\t\t\t break\r\n\t\t\t }\r\n\t\tthis.$refs.tabControl1.currentIndex = index;   //这里就是理解: 这里，使用refs指向，元素tabControl1.currenIndex=参数\r\n\t\tthis.$refs.tabControl2.currentIndex = index;\r\n\t\t },\r\n\t\t  \r\n\t\t contentScroll(position){\r\n\t\t/* \t console.log(position);\r\n\t\t\t this.contenttop(position); */\r\n\t\t\t this.isShow=-position.y>1000 ;            /* 这里是判断哪个按钮什么时候显示大于1000则消失*/\r\n\t\t\t this.istabFixed = (-position.y +36) > this.tabOffsetTop\r\n\t\t\t \r\n\t\t },\r\n\t\t recommendImgLoad(){\r\n\t\t\t this.tabOffsetTop = this.$refs.tabControl2.$el.offsetTop\r\n\t\t },\r\n\t\tswiperImgLoad(){\r\n\t\t\t\r\n\t\t},\r\n\t\tLoadMore(){\r\n\t\t\t   // console.log('上拉加载更多');\r\n\t\t\t   this.getGoods(this.currentType);\r\n\t\t\t   this.$refs.scroll.scroll.refresh()\r\n\t\t\t\r\n\t\t },\r\n\t\t backClick(){\r\n\t\t\tthis.$refs.scroll.scroll.scrollTo(0, 0, 1000)\r\n\t\t },\r\n\t\t  getHomeMultidata(){\r\n\t\t\t  getHomeMultidata().then(res=>{\r\n\t\t\t\tthis.banners=res.data.banner.list\r\n\t\t\t    this.recommend=res.data.recommend.list\r\n\t\t\t  })\r\n\t\t  },\r\n\t\t  getGoods(type){\r\n\t\t\t     const page = this.goods[type].page + 1 \r\n\t\t\t      getGoods(type,page).then(res=>{\r\n\t\t\t\t  this.goods[type].list.push(...res.data.list)\r\n\t\t\t\t  this.goods[type].page += 1\r\n\t\t\t\t  this.$refs.scroll.finishPullUp()/* 这个无限的加 */\r\n\t\t\t\t \r\n\t\t\t  })\r\n\t\t  },\r\n\t\t  \r\n\t}\r\n\t\t \n\t}\r\n\t \n</script>\n\n<style scoped>\r\n\t#home{\r\n\t\tpadding-top: 35px;\r\n\t}\r\n\t.home-navbar{\r\n\t  background-color: var(--color-tint);\r\n\t  color: white;\r\n\t  position: fixed;\r\n\t  z-index: 1;\r\n\t  left: 0;\r\n\t  right: 0;\r\n\t  top: 0;\r\n\t}\r\n\t.tab-home-control{\r\n\t\t  position:fixed;\r\n\t\t  z-index: 1;\r\n\t\t  width: 100%;\r\n\t}\r\n .content{\r\n\n    height: calc(100vh - 87px);\n    /*overflow: hidden;*/\n  }\t\r\n\n</style>\n"]}]}